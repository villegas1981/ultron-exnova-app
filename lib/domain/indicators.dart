List<double> ema(List<double> values, int period){ final k=2/(period+1); final out=<double>[]; double? prev; for(final v in values){ prev=(prev==null)?v:(v-prev)*k+prev; out.add(prev!);} return out; }
List<double> rsi(List<double> closes, int period){ if(closes.length<2) return List<double>.filled(closes.length,50); double g=0,l=0; final rsis=List<double>.filled(closes.length,50); for(var i=1;i<closes.length;i++){ final ch=closes[i]-closes[i-1]; g=(g*(period-1)+(ch>0?ch:0))/period; l=(l*(period-1)+(ch<0?-ch:0))/period; final rs=(l==0)?100.0:g/l; rsis[i]=100-(100/(1+rs)); } return rsis; }
